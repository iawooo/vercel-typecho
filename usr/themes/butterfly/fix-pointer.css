/**
 * 紧急修复点击事件问题的CSS
 * 采用激进方法修复整个页面无法点击的问题
 */

/* 全局强制可点击 */
* {
    pointer-events: auto !important;
    user-select: auto !important;
    touch-action: auto !important;
}

/* 特别处理html和body */
html,
body {
    pointer-events: auto !important;
    touch-action: auto !important;
    overflow: auto !important;
    width: auto !important;
    height: auto !important;
    position: relative !important;
    z-index: auto !important;
}

/* 移除任何全屏覆盖层 */
body::before,
body::after,
html::before,
html::after,
#body-wrap::before,
#body-wrap::after {
    content: none !important;
    display: none !important;
    pointer-events: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
}

/* 确保所有重要容器可点击 */
#body-wrap,
#content-inner,
#page,
.layout,
.recent-posts,
.recent-post-item,
#aside-content,
.card-widget,
.pagination,
.post-content,
#article-container,
.comments,
article,
section,
div {
    pointer-events: auto !important;
    position: relative !important;
    z-index: auto !important;
    touch-action: auto !important;
}

/* 强制所有交互元素可点击 */
a,
button,
input,
textarea,
select,
.site-page,
.menus_item,
.menus_item_child li,
.search-form-input,
.dark-light-com,
[onclick],
[role="button"],
[tabindex],
label {
    cursor: pointer !important;
    pointer-events: auto !important;
    position: relative !important;
    z-index: 999 !important; /* 使用较高z-index确保可点击 */
    touch-action: auto !important;
}

/* 强制导航栏可点击 */
#nav,
#menus,
#page-header,
.menus_items,
#toggle-menu,
.site-page {
    pointer-events: auto !important;
    z-index: 1000 !important;
    position: relative !important;
    touch-action: auto !important;
}

/* 修正搜索弹窗和侧边栏 */
#search-mask,
#local-search {
    z-index: 9999 !important;
    position: fixed !important;
}

.search-dialog {
    z-index: 10000 !important;
    position: relative !important;
}

#sidebar {
    z-index: 9990 !important;
    position: fixed !important;
}

#sidebar-menus {
    z-index: 9991 !important;
    position: fixed !important;
}

#menu-mask {
    z-index: 9989 !important;
    position: fixed !important;
}

/* 修复移动端触控事件 */
@media (max-width: 768px) {
    * {
        touch-action: auto !important;
    }
    
    body {
        overflow-x: hidden !important;
        overflow-y: auto !important;
    }
    
    a, button, .site-page, input[type="submit"], input[type="button"] {
        touch-action: manipulation !important; /* 优化移动端触摸体验 */
    }
}

/* 强制使所有可能阻塞点击的元素失效 */
[style*="pointer-events: none"],
[style*="pointer-events:none"] {
    pointer-events: auto !important;
}

/* 特别处理可能存在的loading或overlay元素 */
.loading-overlay,
.overlay,
.mask,
.loading,
.preloader,
.loader,
#loading,
#overlay,
[class*="loading"],
[class*="overlay"],
[id*="loading"],
[id*="overlay"] {
    display: none !important;
    opacity: 0 !important;
    visibility: hidden !important;
    pointer-events: none !important;
} 
